<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>笔记</title>
    <link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' />
    <link rel="stylesheet" href="../css/index.css">
    <!--引入bootstrap-->
    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap.min.js"></script>
</head>
<body class='typora-export os-windows' >
<div>
    <ul class="nav nav-pills" style="margin-left:10%">
        <li role="presentation"><a href="nodejs学习笔记.html">nodejs</a></li>
        <li role="presentation" class="active"><a href="react笔记.html">react</a></li>
        <li role="presentation"><a href="心理课笔记.html">psychological</a></li>
        <li role="presentation"><a href="计算机操作系统.html">Computer operating system</a></li>
    </ul>
</div>
<div  id='write'  class = 'is-node'><h1><a name="笔记" class="md-header-anchor"></a><span>笔记</span></h1><h4><a name="生命周期函数详解" class="md-header-anchor"></a><span>生命周期函数详解</span></h4><ul><li><p><span>shouldcomponentupdate函数返回true和false，</span></p><ul><li><span>如果return true状态值和页面会被更新</span></li><li><span>return false</span></li></ul></li><li><p><span>在shouldcomponentupdate中通过this.state.count的值是上次更新前的旧数据</span></p><ul><li><span>用nextstate nextprops参数传进来，用nextstate.count来取得页面的最新状态</span></li></ul></li><li><p><span>componentwillupdate</span></p><ul><li><span>页面将要更新的时候在进入这个生命周期函数的时候dom都是旧的</span></li><li><span>在便签中添加ref属性，然后在访问这个标签的时候使用this.refs.标签名.属性</span></li></ul></li><li><p><span>render函数(更新用)</span></p><ul><li><span>在组件运行阶段中，每当调用render函数的时候，页面上的元素还是旧的</span></li><li><span>短路运算：this.refs.h3&amp;&amp;this.refs.h3.innerhtml</span></li></ul></li><li><p><span>componentdidupdate</span></p><ul><li><span>组件完成了更新，此时页面中的元素都是最新的，可以放心操作</span></li></ul></li><li><p><span>class创建组件</span></p><ul><li><p><span>class XXXextends react.component</span></p></li><li><p><span>constructor</span></p><ul><li><span>this.state={}</span></li></ul></li><li><p><span>render（）{return div}</span></p></li></ul></li><li><p><span>export default只能导出一个组件</span></p></li><li><p><span>componentwillreceiveupdate</span></p><ul><li><span>组件将要接受外界传过来的新的props值</span></li><li><span>当子组件被第一次渲染到页面的时候不会触发函数</span></li><li><span>修改属性值的时候点击事件的函数this.函数名</span></li><li><span>函数=()=&gt;{this.setstate{值：}}</span></li><li><span>只有在父组件中通过某些事件修改了传递给子组件的props数据之后，才会触发函数</span></li><li><span>获取的属性值是旧的属性值，想获取新的属性值还必须接受参数nextprops才能获取最新的属性值 </span></li></ul></li></ul><h5><a name="组件生命周期的执行顺序" class="md-header-anchor"></a><span>组件生命周期的执行顺序</span></h5><ul><li><p><span>mounting</span></p><ul><li><span>constructor</span></li><li><span>componentwillmount</span></li><li><span>render</span></li><li><span>componentdidmount</span></li></ul></li><li><p><span>updating</span></p><ul><li><span>componentwillreceiveprops（nextprops）</span></li><li><span>shouldcomponentupdate（nextprops nextstate）</span></li><li><span>componentwillupdate（nextprops nextstate）</span></li><li><span>render</span></li><li><span>componentdidupdate（prevprops ，prevprops(上一次的属性)）</span></li></ul></li><li><p><span>unmounting</span></p><ul><li><span>componentwillunmount</span></li></ul></li><li><h4><a name="绑定this传参的几种形式" class="md-header-anchor"></a><span>绑定this传参的几种形式</span></h4><ul><li><p><span>在事件处理函数中，直接使用bind绑定this并传参</span></p><ul><li><p><span>改为箭头函数   函数名=()=&gt;{}</span></p></li><li><p><span>在调用函数的时候用this.函数名.bind(this)</span></p><ul><li><span>bind的作用：为前面的函数修改函数内部的this指向，指向bind参数列表中的第一个参数</span></li><li><span>bind函数中的第一个参数，是用来修改this指向的，第一个参数后面的所有参数，都会当作将来要调用 前面函数 时候的参数传递进去(函数的形参)</span></li></ul></li><li><p><span>bind和call/apply之间的区别</span></p><ul><li><span>bind修改this指向之后不会立即调用前面的函数</span></li><li><span>call和appley修改完this指向之后会立即调用前面的函数</span></li></ul></li></ul></li><li><p><span>在构造函数中绑定并传参</span></p><ul><li><p><span>this.函数名.bind(this)</span></p></li><li><p><span>bind方法有返回值</span></p><ul><li><span>返回由指定的this值和初始化参数改造的原函数拷贝</span></li><li><span>就是被改变this指向之后的函数的引用</span></li></ul></li><li><p><span>bind不会修改原函数的this指向</span></p><ul><li><span>如果要修改应该在constructor中用this修改原函数的this指向</span></li></ul></li><li><p><span>箭头函数外部this要和内部this保持一致</span></p></li></ul></li><li><p><span>在调用函数时onclick={()=&gt;{this.函数名}}</span></p><ul><li><span>箭头函数外部的this要与内部的this保持一致</span></li><li><span>实例调用实例</span></li></ul></li></ul></li><li><h4><a name="react实现数据绑定" class="md-header-anchor"></a><span>react实现数据绑定</span></h4><ul><li><p><span>react只支持，把数据从state上传输到页面，但是，无法自动实现数据从 页面 传输到state中进行保存，也就是，react不支持数据的自动逆向传输，只实现了数据的单项绑定</span></p></li><li><p><span>如果为表单元素，提供了value属性绑定，那么，必须同时为表单元素绑定readonly，或者提供要给onchange事件</span></p><ul><li><span>如果提供了readonly，表示这个元素是只读</span></li><li><span>如果提供了onchange表示，这个元素的值可以被修改，但是，要自己定义修改的逻辑</span></li></ul></li><li><p><span>如果想让 文本框在出发onchange的时候，同时把文本框最新的值保存到state中，那么，我们需要手动调用this.setstate</span></p></li><li><p><span>获取文本框中 最新文本的三种方式</span></p><ul><li><p><span>使用dom中的getelement来取得元素</span></p></li><li><p><span>使用ref属性来拿</span></p><ul><li><span>在元素中添加ref属性ref=“txt”</span></li><li><span>调用的时候使用this.refs.txt.属性名</span></li></ul></li><li><p><span>使用事件对象的参数 e 事件对象来拿</span></p><ul><li><p><span>在箭头函数小括号中添加一个e</span></p></li><li><p><span>在函数中使用e.target.属性名  来获取</span></p><ul><li><span>e.target就表示触发这个事件的事件源的对象</span></li></ul></li></ul></li><li><p><span>修改完之后应该调用this.setstate({属性：xxx})</span></p><ul><li><span>用来保存修改后的属性</span></li></ul></li><li><p>&nbsp;</p></li></ul></li></ul></li><li><h4><a name="react路由" class="md-header-anchor"></a><span>react路由</span></h4><ul><li><p><span>react-router-dom路由的基本使用</span></p><ul><li><p><span>如果要使用路由模块，第一步，运行yarn add react-router-dom</span></p></li><li><p><span>第二步，在中导入路由模块</span></p><ul><li><p><span>import{hashRouter，Route，Link}from &#39;react-router-dom&#39;</span></p><ul><li><span>hashrouter表示一个路由的根容器，将来，所有的路由相关的东西。都要包裹在hashrouter里面，而且，一个网站中，只需要使用一次hashrouter就可以了</span></li><li><span>router表示一个路由规则，在router上，有两个比较重要的属性，path component</span></li><li><span>link表示一个路由的链接，就像是VUE中的</span><router-link to=""></router-link></li></ul></li><li><p><span>在render函数中返回一个</span><Hashrouter></Hashrouter></p><ul><li><span>当使用hashrouter把根组件的元素包裹起来之后，网站就已经启用路由了</span></li><li><span>注意：在一个hashrouter中只能有一个hashrouter</span></li><li><span>在一个网站中只需要使用唯一的一次hashrouter标签</span></li></ul></li></ul></li><li><p><span>link标签的使用</span></p><ul><li><span>在一个组件中创建超链接，添加to属性添加文件路径</span></li></ul></li><li><p><span>router创建的标签就是路由规则</span></p><ul><li><p><span>添加path属性</span></p><ul><li><span>表示要匹配的路由</span></li><li><span>路径/type/id</span></li></ul></li><li><p><span>添加component属性</span></p><ul><li><span>表示要展示的组件</span></li><li><span>{Home}</span></li></ul></li><li><p><span>在VUE中有个router-view的路由标签，专门用来放置，匹配到的路由组件，但是，在react-router中，并没有类似于这样的标签，而是，直接把router标签，当作的 坑 (占位符)</span></p></li><li><p><span>router具有两种身份</span></p><ul><li><span>是一个路由匹配规则</span></li><li><span>它是一个占位符表示将来匹配到的组件都放到这个位置</span></li></ul></li><li><p><span>组件匹配到的位置</span></p><ul><li><span>router是一个占位符</span></li></ul></li></ul></li></ul></li><li><p><span>匹配路由参数</span></p><ul><li><p><span>注意：默认情况下，路由中的规则，是模糊匹配的，如果路由可以部分匹配成功，就会展示这个路由对应的组件</span></p><ul><li><span>如果想让路由规则path精确匹配，可以添加exact属性</span></li></ul></li><li><p><span>如果要匹配参数，可以在匹配规则中 ，使用:修饰符，表示这个位置匹配到的是参数</span></p></li><li><p><span>如果想要从路由规则中，提取匹配到的参数，进行使用，可以使用this.props.match.params.***来访问</span></p><ul><li><span>可以在constructor中设置属性时添加一个属性为this.props.match.params在使用的时候直接用this.state.属性名.***取得属性值</span></li></ul></li></ul><h4><a name="为react项目启用antdesiign组件" class="md-header-anchor"></a><span>为react项目启用antdesiign组件</span></h4></li></ul></li><li><p><span>引入组件</span></p><ul><li><p><span>import { DatePicker } from &#39;antd&#39;; ReactDOM.render(</span><DatePicker /><span>, mountNode); </span></p></li><li><p><span>引入样式</span></p><ul><li><span>import &#39;antd/dist/antd.css&#39;;</span></li></ul></li><li><p><span>一般，我们使用第三方ui组件，他们的样式表文件都是以.css结尾的，所以我们最好不要为.css后缀名的文件，启用模块化</span></p><ul><li><span>我们推荐自己不要直接手写.css的文件，而是自己手写scss或less文件，这样，我们只需为scss文件或less文件启用模块化就好了</span></li></ul></li></ul></li><li><p><span>实现antdesign组件的按需导入</span></p><ul><li><p><span>使用 </span><a href='https://github.com/ant-design/babel-plugin-import'><span>babel-plugin-import</span></a><span>（推荐）。(添加到babelrc文件中)</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="js"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="js"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// .babelrc or babel-loader option</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-string">"plugins"</span>: [</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  [<span class="cm-string">"import"</span>, {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-string cm-property">"libraryName"</span>: <span class="cm-string">"antd"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-string cm-property">"libraryDirectory"</span>: <span class="cm-string">"es"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-string cm-property">"style"</span>: <span class="cm-string">"css"</span> <span class="cm-comment">// `style: true` 会加载 less 文件</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  ]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 230px;"></div><div class="CodeMirror-gutters" style="display: none; height: 230px;"></div></div></div></pre></li><li><p><span>然后只需从 antd 引入模块即可，无需单独引入样式。等同于下面手动引入的方式。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="jsx"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="jsx"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// babel-plugin-import 会帮助你加载 JS 和 CSS</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> { <span class="cm-def">DatePicker</span> } <span class="cm-keyword">from</span> <span class="cm-string">'antd'</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre></li><li><p><span>手动引入</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="jsx"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="jsx"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-def">DatePicker</span> <span class="cm-keyword">from</span> <span class="cm-string">'antd/es/date-picker'</span>; <span class="cm-comment">// 加载 JS</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-string">'antd/es/date-picker/style/css'</span>; <span class="cm-comment">// 加载 CSS</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// import 'antd/es/date-picker/style'; &nbsp; &nbsp; &nbsp; &nbsp; // 加载 LESS</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 69px;"></div><div class="CodeMirror-gutters" style="display: none; height: 69px;"></div></div></div></pre></li><li><p><span>具体操作</span></p><ul><li><p><span>cnpm i babel-plugin-import -D</span></p></li><li><p><span>修改babelrc中的配置文件</span></p><ul><li><span>添加[&quot;import&quot;, {</span>
<span>    &quot;libraryName&quot;: &quot;antd&quot;,</span>
<span>    &quot;libraryDirectory&quot;: &quot;es&quot;,</span>
<span>    &quot;style&quot;: &quot;css&quot; </span>
<span>  }]</span></li></ul></li></ul></li></ul></li></ul></div>
</body>
</html>